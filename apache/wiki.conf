<VirtualHost *:80>
    # should be 127.0.0.1:8888 eventually, with nginx reverse proxy
    # *:80 doesn't work. ServerName not set???


    # The ServerName directive sets the request scheme, hostname and port that
    # the server uses to identify itself. This is used when creating
    # redirection URLs. In the context of virtual hosts, the ServerName
    # specifies what hostname must appear in the request's Host: header to
    # match this virtual host. For the default virtual host (this file) this
    # value is not decisive as it is used as a last resort host regardless.
    # However, you must set it for any further virtual host explicitly.
    ServerName 45.56.87.232

    LogLevel warn
    ServerAdmin charles@charlesreid1.com
    DirectoryIndex index.html index.cgi index.php


    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined



    AddHandler php5-script php
    # PHP module settings:
    <IfModule php5_module>

        # Add php type handler
        AddType text/html       php

        # Make index.php a default file
        <IfModule dir_module>
            DirectoryIndex index.html index.php
        </IfModule>

    </IfModule>



    # =================
    # wiki

    Alias /wiki /var/www/html
    Alias /w /var/www/html

    <Directory /var/www/html>
        #
        # http://www.mediawiki.org/wiki/Manual:Short_URL/Apache
        #
        # Enable the rewrite engine
        RewriteEngine On
        ## Short url for wiki pages
        RewriteRule ^/?wiki(/.*)?$ %{DOCUMENT_ROOT}/w/index.php [L]
        #
        Options FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>



</VirtualHost>
